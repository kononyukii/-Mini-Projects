<!DOCTYPE html>
<html lang="en ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Document</title>
  </head>
  <body>
    <div id="wrap">
      <h1>Гороскоп</h1>
      <p>Введите дату вашего рождения</p>
      <input type="text" id="input" placeholder="дд.мм" /> <br />
      <label for="today">сегодня</label>
      <input type="radio" name="period" id="today" value="1" checked />
      <label for="tomorrow">завтра</label>
      <input type="radio" name="period" id="tomorrow" value="2" />
      <label for="day_after_tomorrow">послезавтра</label>
      <input type="radio" name="period" id="day_after_tomorrow" value="3" />
    </div>
    <script>
      "use strict";
      /*
         Пусть пользователь по заходу на сайт видит инпут, в который нужно вбить дату своего рождения.
         Пусть по нажатию Enter наш сайт выдаст пользователю гороскоп на текущий день за его знак Зодиака.
         */

      let div = document.querySelector("#wrap");
      let input = document.querySelector("#input");

      //Реализуйте показ гороскопа за текущий день.
      let date = new Date();
      let arrMonth = [
        "Января",
        "Февраля",
        "Марта",
        "Апреля",
        "Майя",
        "Июня",
        "Июля",
        "Августа",
        "Сентября",
        "Октября",
        "Ноября",
        "Декабря",
      ];

      let fake = [
        "счастье",
        "здоровье",
        "успех",
        "свобода",
        "удача",
        "любовь",
        "веселье",
        "дружба",
        "деньги",
        "богатство",
        "радость",
        "благополучие",
      ];
      let nowDate = date.getDate() + " " + arrMonth[date.getMonth()];

      let radios = document.querySelectorAll('input[type="radio"]');
      let nextDate = date.getDate() + 1 + " " + arrMonth[date.getMonth()];
      let afterDate = date.getDate() + 2 + " " + arrMonth[date.getMonth()];

      let info = document.createElement("p");
      div.appendChild(info);

      input.addEventListener("keyup", function checkDate(event) {
        this.value = this.value.replace(/[^0-9.]/g, "");

        if (event.keyCode === 13) {
          let dat = input.value.split(".").reverse().join(".");

          if (dat >= "03.21" && dat <= "04.19") {
            info.innerHTML =
              "<b>" + "Овен: " + "</b>" + " вас ожидает ";
          }
          if (dat >= "04.20" && dat <= "05.20") {
            info.innerHTML =
              "<b>" + "Телец: " + "</b>" + " вас ожидает ";
          }
          if (dat >= "05.21" && dat <= "06.20") {
            info.innerHTML =
              "<b>" + "Близнецы: " + "</b>" + " вас ожидает ";
          }
          if (dat >= "06.21" && dat <= "07.22") {
            info.innerHTML = "<b>" + "Рак: " + "</b>" + " вас ожидает ";
          }
          if (dat >= "07.23" && dat <= "08.22") {
            info.innerHTML = "<b>" + "Лев: " + "</b>" + " вас ожидает ";
          }
          if (dat >= "08.23" && dat <= "09.22") {
            info.innerHTML =
              "<b>" + "Дева: " + "</b>" + " вас ожидает ";
          }
          if (dat >= "09.23" && dat <= "10.22") {
            info.innerHTML =
              "<b>" + "Весы: " + "</b>" + " вас ожидает ";
          }
          if (dat >= "10.23" && dat <= "11.21") {
            info.innerHTML =
              "<b>" + "Скорпион: " + "</b>" + " вас ожидает ";
          }
          if (dat >= "11.22" && dat <= "12.21") {
            info.innerHTML =
              "<b>" + "Стрелец: " + "</b>" + " вас ожидает ";
          }
          if (
            (dat >= "12.22" && dat <= "12.31") ||
            (dat >= "01.01" && dat <= "01.19")
          ) {
            info.innerHTML =
              "<b>" + "Козерог: " + "</b>" + " вас ожидает ";
          }
          if (dat >= "01.20" && dat <= "02.18") {
            info.innerHTML =
              "<b>" + "Водолей: " + "</b>" + " вас ожидает ";
          }
          if (dat >= "02.19" && dat <= "03.20") {
            info.innerHTML =
              "<b>" + "Рыбы: " + "</b>" + " вас ожидает ";
          }
          for (let radio of radios) {
            let randomNum = getRandomInt(1, fake.length - 2);
            if (radio.checked && radio.value == 1) {
              info.innerHTML = nowDate + "<br>" + info.innerHTML + fake[randomNum] + ' и ' + fake[randomNum + 1];
            }
            if (radio.checked && radio.value == 2) {
              info.innerHTML = nextDate + "<br>" + info.innerHTML + fake[randomNum] + ' и ' + fake[randomNum + 1];
            }
            if (radio.checked && radio.value == 3) {
              info.innerHTML = afterDate + "<br>" + info.innerHTML + fake[randomNum] + ' и ' + fake[randomNum + 1];
            }
          }
        }
      });
      function getRandomInt(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
      }
    </script>
  </body>
</html>
